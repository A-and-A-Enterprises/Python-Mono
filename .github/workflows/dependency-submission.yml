name: Python Dependency Submission

on:
  workflow_dispatch:  # Manual trigger
  push:
    branches: ["main"]
    paths:
      - '**/requirements.txt'
      - '**/pyproject.toml'
      - '**/poetry.lock'

permissions:
  contents: read

jobs:
  dependency-submission:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      
      - name: Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.9'
          cache: 'pip'
      
      # GitHub automatically analyzes Python dependencies from manifest files
      # This workflow just ensures the files are present and up-to-date
      - name: Display detected manifests
        run: |
          echo "=== Python manifest files detected ==="
          find . -name "requirements.txt" -o -name "pyproject.toml" -o -name "poetry.lock" -o -name "Pipfile.lock"
